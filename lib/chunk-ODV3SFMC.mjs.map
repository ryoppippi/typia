{"version":3,"sources":["../src/programmers/internal/application_v30_alias.ts","../src/programmers/internal/application_v30_tuple.ts","../src/programmers/internal/application_v30_schema.ts","../src/programmers/internal/application_v30_object.ts"],"sourcesContent":["import { OpenApiV3 } from \"@samchon/openapi\";\n\nimport { CommentFactory } from \"../../factories/CommentFactory\";\n\nimport { IJsDocTagInfo } from \"../../schemas/metadata/IJsDocTagInfo\";\nimport { MetadataAlias } from \"../../schemas/metadata/MetadataAlias\";\n\nimport { application_v30_object } from \"./application_v30_object\";\nimport { application_v30_schema } from \"./application_v30_schema\";\n\n/**\n * @internal\n */\nexport const application_v30_alias =\n  <BlockNever extends boolean>(blockNever: BlockNever) =>\n  (components: OpenApiV3.IComponents) =>\n  (alias: MetadataAlias) =>\n  (nullable: boolean): OpenApiV3.IJsonSchema.IReference => {\n    if (alias.value.size() === 1 && alias.value.objects.length === 1)\n      return application_v30_object(components)(alias.value.objects[0]!)(\n        nullable,\n      ) as OpenApiV3.IJsonSchema.IReference;\n\n    const key: string = `${alias.name}${nullable ? \".Nullable\" : \"\"}`;\n    const $ref: string = `#/components/schemas/${key}`;\n\n    if (components.schemas?.[key] === undefined) {\n      // TEMPORARY ASSIGNMENT\n      components.schemas ??= {};\n      components.schemas[key] = {};\n\n      // GENERATE SCHEMA\n      const schema: OpenApiV3.IJsonSchema | null = application_v30_schema(\n        blockNever,\n      )(components)({\n        deprecated:\n          alias.jsDocTags.some((tag) => tag.name === \"deprecated\") || undefined,\n        title: (() => {\n          const info: IJsDocTagInfo | undefined = alias.jsDocTags.find(\n            (tag) => tag.name === \"title\",\n          );\n          return info?.text?.length\n            ? CommentFactory.merge(info.text)\n            : undefined;\n        })(),\n        description: alias.description ?? undefined,\n      })(alias.value);\n      if (schema !== null) Object.assign(components.schemas[key]!, schema);\n    }\n    return { $ref };\n  };\n","import { OpenApiV3 } from \"@samchon/openapi\";\n\nimport { Metadata } from \"../../schemas/metadata/Metadata\";\nimport { MetadataTuple } from \"../../schemas/metadata/MetadataTuple\";\n\nimport { application_v30_schema } from \"./application_v30_schema\";\n\n/**\n * @internal\n */\nexport const application_v30_tuple =\n  (components: OpenApiV3.IComponents) =>\n  (tuple: MetadataTuple) =>\n  (\n    attribute: OpenApiV3.IJsonSchema.__IAttribute,\n  ): OpenApiV3.IJsonSchema.IArray => ({\n    ...attribute,\n    type: \"array\",\n    items: application_v30_schema(false)(components)(\n      tuple.type.recursive ? {} : attribute,\n    )(\n      tuple.type.elements.reduce(\n        (x, y) => Metadata.merge(x.rest ?? x, y.rest ?? y),\n        Metadata.initialize(),\n      ),\n    ),\n    minItems: !!tuple.type.elements.at(-1)?.rest\n      ? tuple.type.elements.length - 1\n      : tuple.type.elements.filter((x) => !x.optional).length,\n    maxItems: !!tuple.type.elements.at(-1)?.rest\n      ? undefined!\n      : tuple.type.elements.length,\n  });\n","import { OpenApiV3 } from \"@samchon/openapi\";\n\nimport { Metadata } from \"../../schemas/metadata/Metadata\";\nimport { MetadataAtomic } from \"../../schemas/metadata/MetadataAtomic\";\n\nimport { AtomicPredicator } from \"../helpers/AtomicPredicator\";\nimport { application_array } from \"./application_array\";\nimport { application_boolean } from \"./application_boolean\";\nimport { application_escaped } from \"./application_escaped\";\nimport { application_number } from \"./application_number\";\nimport { application_string } from \"./application_string\";\nimport { application_templates } from \"./application_templates\";\nimport { application_v30_alias } from \"./application_v30_alias\";\nimport { application_v30_constant } from \"./application_v30_constant\";\nimport { application_v30_native } from \"./application_v30_native\";\nimport { application_v30_object } from \"./application_v30_object\";\nimport { application_v30_tuple } from \"./application_v30_tuple\";\n\n/**\n * @internal\n */\nexport const application_v30_schema =\n  <BlockNever extends boolean>(blockNever: BlockNever) =>\n  (components: OpenApiV3.IComponents) =>\n  (attribute: OpenApiV3.IJsonSchema.__IAttribute) =>\n  (\n    meta: Metadata,\n  ): BlockNever extends true\n    ? OpenApiV3.IJsonSchema | null\n    : OpenApiV3.IJsonSchema => {\n    // VULNERABLE CASE\n    if (meta.any === true)\n      return {\n        ...attribute,\n        type: undefined,\n      };\n    else if (meta.nullable && meta.empty())\n      return { type: \"null\", ...attribute };\n\n    //----\n    // GATHER UNION SCHEMAS\n    //----\n    const union: OpenApiV3.IJsonSchema[] = [];\n    const insert = meta.nullable\n      ? (schema: OpenApiV3.IJsonSchema) =>\n          union.push({\n            ...schema,\n            nullable: (schema as OpenApiV3.IJsonSchema.__ISignificant<any>).type\n              ? true\n              : undefined,\n          } as OpenApiV3.IJsonSchema)\n      : (schema: OpenApiV3.IJsonSchema) => union.push(schema);\n\n    // toJSON() METHOD\n    if (meta.escaped !== null)\n      application_escaped<\"3.0\">(application_v30_schema(false)(components)({}))(\n        meta.escaped,\n      ).forEach(insert);\n\n    // ATOMIC TYPES\n    if (meta.templates.length && AtomicPredicator.template(meta))\n      insert(application_templates(meta));\n    for (const constant of meta.constants)\n      if (constant.type === \"bigint\") throw new TypeError(NO_BIGINT);\n      else if (AtomicPredicator.constant(meta)(constant.type) === false)\n        continue;\n      else insert(application_v30_constant(constant));\n    for (const a of meta.atomics)\n      if (a.type === \"bigint\") throw new TypeError(NO_BIGINT);\n      else if (a.type === \"boolean\") application_boolean(a).forEach(insert);\n      else if (a.type === \"number\") application_number(a).forEach(insert);\n      else if (a.type === \"string\") application_string(a).forEach(insert);\n\n    // ARRAY\n    for (const array of meta.arrays)\n      application_array<\"3.0\">(application_v30_schema(false)(components)({}))(\n        array,\n      ).forEach(insert);\n\n    // TUPLE\n    for (const tuple of meta.tuples)\n      insert(application_v30_tuple(components)(tuple)(attribute));\n\n    // NATIVES\n    for (const native of meta.natives)\n      if (AtomicPredicator.native(native)) {\n        const type: string = native.toLowerCase();\n        if (meta.atomics.some((a) => a.type === type)) continue;\n        else if (type === \"bigint\") throw new TypeError(NO_BIGINT);\n        else if (type === \"boolean\")\n          insert(\n            application_boolean(\n              MetadataAtomic.create({\n                type: \"boolean\",\n                tags: [],\n              }),\n            )[0]!,\n          );\n        else if (type === \"number\")\n          insert(\n            application_number(\n              MetadataAtomic.create({\n                type: \"number\",\n                tags: [],\n              }),\n            )[0]!,\n          );\n        else if (type === \"string\")\n          insert(\n            application_string(\n              MetadataAtomic.create({\n                type: \"string\",\n                tags: [],\n              }),\n            )[0]!,\n          );\n      } else insert(application_v30_native(components)(native)(meta.nullable));\n    if (meta.sets.length)\n      insert(application_v30_native(components)(`Set`)(meta.nullable));\n    if (meta.maps.length)\n      insert(application_v30_native(components)(`Map`)(meta.nullable));\n\n    // OBJECT\n    for (const obj of meta.objects)\n      insert(application_v30_object(components)(obj)(meta.nullable));\n\n    // ALIASES\n    for (const alias of meta.aliases)\n      insert(\n        application_v30_alias(blockNever)(components)(alias)(meta.nullable),\n      );\n\n    //----\n    // RETURNS\n    //----\n    if (union.length === 0 && blockNever === true) return null!;\n    const schema: OpenApiV3.IJsonSchema =\n      union.length === 0\n        ? { type: undefined }\n        : union.length === 1\n          ? union[0]!\n          : { oneOf: union };\n    return {\n      ...schema,\n      ...attribute,\n      title: attribute.title ?? schema.title,\n      description: attribute.description ?? schema.description,\n      deprecated: attribute.deprecated ?? schema.deprecated,\n    };\n  };\n\n/**\n * @internal\n */\nconst NO_BIGINT = \"Error on typia.application(): does not allow bigint type.\";\n","import { OpenApiV3 } from \"@samchon/openapi\";\n\nimport { CommentFactory } from \"../../factories/CommentFactory\";\n\nimport { IJsDocTagInfo } from \"../../schemas/metadata/IJsDocTagInfo\";\nimport { Metadata } from \"../../schemas/metadata/Metadata\";\nimport { MetadataObject } from \"../../schemas/metadata/MetadataObject\";\n\nimport { PatternUtil } from \"../../utils/PatternUtil\";\n\nimport { application_v30_schema } from \"./application_v30_schema\";\nimport { metadata_to_pattern } from \"./metadata_to_pattern\";\n\n/**\n * @internal\n */\nexport const application_v30_object =\n  (components: OpenApiV3.IComponents) =>\n  (obj: MetadataObject) =>\n  (\n    nullable: boolean,\n  ): OpenApiV3.IJsonSchema.IReference | OpenApiV3.IJsonSchema.IObject => {\n    if (obj._Is_literal() === true)\n      return create_object_schema(components)(obj)(nullable);\n\n    const key: string = `${obj.name}${nullable ? \".Nullable\" : \"\"}`;\n    const $ref: string = `#/components/schemas/${key}`;\n    if (components.schemas?.[key] !== undefined) return { $ref };\n\n    const object: OpenApiV3.IJsonSchema = {};\n    components.schemas ??= {};\n    components.schemas[key] = object;\n    Object.assign(object, create_object_schema(components)(obj)(nullable));\n    return { $ref };\n  };\n\n/**\n * @internal\n */\nconst create_object_schema =\n  (components: OpenApiV3.IComponents) =>\n  (obj: MetadataObject) =>\n  (nullable: boolean): OpenApiV3.IJsonSchema.IObject => {\n    // ITERATE PROPERTIES\n    const properties: Record<string, any> = {};\n    const extraMeta: ISuperfluous = {\n      patternProperties: {},\n      additionalProperties: undefined,\n    };\n    const required: string[] = [];\n\n    for (const property of obj.properties) {\n      if (\n        // FUNCTIONAL TYPE\n        property.value.functional === true &&\n        property.value.nullable === false &&\n        property.value.isRequired() === true &&\n        property.value.size() === 0\n      )\n        continue;\n      else if (property.jsDocTags.find((tag) => tag.name === \"hidden\"))\n        continue; // THE HIDDEN TAG\n\n      const key: string | null = property.key.getSoleLiteral();\n      const schema: OpenApiV3.IJsonSchema | null = application_v30_schema(true)(\n        components,\n      )({\n        deprecated:\n          property.jsDocTags.some((tag) => tag.name === \"deprecated\") ||\n          undefined,\n        title: (() => {\n          const info: IJsDocTagInfo | undefined = property.jsDocTags.find(\n            (tag) => tag.name === \"title\",\n          );\n          if (info?.text?.length) return CommentFactory.merge(info.text);\n          else if (!property.description?.length) return undefined;\n\n          const index: number = property.description.indexOf(\"\\n\");\n          const top: string = (\n            index === -1\n              ? property.description\n              : property.description.substring(0, index)\n          ).trim();\n          return top.endsWith(\".\")\n            ? top.substring(0, top.length - 1)\n            : undefined;\n        })(),\n        description: property.description ?? undefined,\n      })(property.value);\n\n      if (schema === null) continue;\n      if (key !== null) {\n        properties[key] = schema;\n        if (property.value.isRequired() === true) required.push(key);\n      } else {\n        const pattern: string = metadata_to_pattern(true)(property.key);\n        if (pattern === PatternUtil.STRING)\n          extraMeta.additionalProperties = [property.value, schema];\n        else extraMeta.patternProperties[pattern] = [property.value, schema];\n      }\n    }\n\n    return {\n      type: \"object\",\n      properties,\n      nullable,\n      required: required.length ? required : undefined,\n      title: (() => {\n        const info: IJsDocTagInfo | undefined = obj.jsDocTags.find(\n          (tag) => tag.name === \"title\",\n        );\n        return info?.text?.length ? CommentFactory.merge(info.text) : undefined;\n      })(),\n      description: obj.description,\n      additionalProperties: join(components)(extraMeta),\n    };\n  };\n\n/**\n * @internal\n */\nconst join =\n  (components: OpenApiV3.IComponents) =>\n  (extra: ISuperfluous): OpenApiV3.IJsonSchema | undefined => {\n    // LIST UP METADATA\n    const elements: [Metadata, OpenApiV3.IJsonSchema][] = Object.values(\n      extra.patternProperties || {},\n    );\n    if (extra.additionalProperties) elements.push(extra.additionalProperties);\n\n    // SHORT RETURN\n    if (elements.length === 0) return undefined;\n    else if (elements.length === 1) return elements[0]![1]!;\n\n    // MERGE METADATA AND GENERATE VULNERABLE SCHEMA\n    const meta: Metadata = elements\n      .map((tuple) => tuple[0])\n      .reduce((x, y) => Metadata.merge(x, y));\n    return application_v30_schema(true)(components)({})(meta) ?? undefined;\n  };\n\n/**\n * @internal\n */\ninterface ISuperfluous {\n  additionalProperties?: undefined | [Metadata, OpenApiV3.IJsonSchema];\n  patternProperties: Record<string, [Metadata, OpenApiV3.IJsonSchema]>;\n}\n"],"mappings":"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","names":["application_v30_alias","blockNever","components","alias","nullable","value","size","objects","length","application_v30_object","key","name","$ref","schemas","undefined","schema","application_v30_schema","deprecated","jsDocTags","some","tag","title","info","find","text","CommentFactory","merge","description","Object","assign","application_v30_tuple","components","tuple","attribute","type","items","application_v30_schema","recursive","elements","reduce","x","y","Metadata","merge","rest","initialize","minItems","at","length","filter","optional","maxItems","undefined","application_v30_schema","blockNever","components","attribute","meta","any","type","undefined","nullable","empty","union","insert","schema","push","escaped","application_escaped","forEach","templates","length","AtomicPredicator","template","application_templates","constant","constants","TypeError","NO_BIGINT","application_v30_constant","a","atomics","application_boolean","application_number","application_string","array","arrays","application_array","tuple","tuples","application_v30_tuple","native","natives","toLowerCase","some","MetadataAtomic","create","tags","application_v30_native","sets","maps","obj","objects","application_v30_object","alias","aliases","application_v30_alias","oneOf","title","description","deprecated","application_v30_object","components","obj","nullable","_Is_literal","create_object_schema","key","name","$ref","schemas","undefined","object","Object","assign","properties","extraMeta","patternProperties","additionalProperties","required","property","value","functional","isRequired","size","jsDocTags","find","tag","getSoleLiteral","schema","application_v30_schema","deprecated","some","title","info","text","length","CommentFactory","merge","description","index","indexOf","top","substring","trim","endsWith","push","pattern","metadata_to_pattern","PatternUtil","STRING","type","join","extra","elements","values","meta","map","tuple","reduce","x","y","Metadata"]}