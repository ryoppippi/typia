{"version":3,"sources":["../src/transform.ts"],"sourcesContent":["import ts from \"typescript\";\n\nimport { FileTransformer } from \"./transformers/FileTransformer\";\nimport { IProject } from \"./transformers/IProject\";\nimport { ITransformOptions } from \"./transformers/ITransformOptions\";\n\nexport const transform = (\n  program: ts.Program,\n  options: ITransformOptions | undefined,\n  extras: IProject[\"extras\"],\n): ts.TransformerFactory<ts.SourceFile> => {\n  const compilerOptions: ts.CompilerOptions = program.getCompilerOptions();\n  const strict: boolean =\n    compilerOptions.strictNullChecks !== undefined\n      ? !!compilerOptions.strictNullChecks\n      : !!compilerOptions.strict;\n  if (strict === false)\n    extras.addDiagnostic({\n      category: ts.DiagnosticCategory.Error,\n      code: \"(typia)\" as any,\n      file: undefined,\n      start: undefined,\n      length: undefined,\n      messageText: \"strict mode is required.\",\n    });\n  return FileTransformer.transform({\n    program,\n    compilerOptions,\n    checker: program.getTypeChecker(),\n    printer: ts.createPrinter(),\n    options: options ?? {},\n    extras,\n  });\n};\nexport default transform;\n"],"mappings":";;;;;;;;AAAA,OAAOA,QAAQ;AAMR,IAAMC,YAAY,wBACvBC,SACAC,SACAC,WAAAA;AAEA,QAAMC,kBAAsCH,QAAQI,mBAAkB;AACtE,QAAMC,SACJF,gBAAgBG,qBAAqBC,SACjC,CAAC,CAACJ,gBAAgBG,mBAClB,CAAC,CAACH,gBAAgBE;AACxB,MAAIA,WAAW,MACbH,QAAOM,cAAc;IACnBC,UAAUC,GAAGC,mBAAmBC;IAChCC,MAAM;IACNC,MAAMP;IACNQ,OAAOR;IACPS,QAAQT;IACRU,aAAa;EACf,CAAA;AACF,SAAOC,gBAAgBnB,UAAU;IAC/BC;IACAG;IACAgB,SAASnB,QAAQoB,eAAc;IAC/BC,SAASX,GAAGY,cAAa;IACzBrB,SAASA,WAAW,CAAC;IACrBC;EACF,CAAA;AACF,GA3ByB;AA4BzB,IAAA,oBAAeH;","names":["ts","transform","program","options","extras","compilerOptions","getCompilerOptions","strict","strictNullChecks","undefined","addDiagnostic","category","ts","DiagnosticCategory","Error","code","file","start","length","messageText","FileTransformer","checker","getTypeChecker","printer","createPrinter"]}